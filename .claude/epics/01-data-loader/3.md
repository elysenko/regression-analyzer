---
name: Implement transpose functionality
status: open
created: 2026-01-20T19:16:59Z
updated: 2026-01-20T19:18:35Z
github: https://github.com/elysenko/regression-analyzer/issues/3
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Implement transpose functionality

## Description

Create the transpose utility module with functions to transpose DataFrames (converting row headers to column headers) and a heuristic function to guess if transpose is needed.

## Acceptance Criteria

- [ ] Implement `transpose.py` with `transpose_dataframe()` function
- [ ] First column values become new column headers
- [ ] Handle duplicate header names by appending counter
- [ ] Implement `should_transpose_heuristic()` function
- [ ] Heuristic checks uniqueness ratio and string length
- [ ] Update `__init__.py` to export transpose functions

## Technical Details

### File to Create
- `src/regression_analyzer/loader/transpose.py`

### Implementation Notes
- `transpose_dataframe()`: First column → headers, remaining columns → rows
- Handle duplicates: "revenue" → "revenue", "revenue_1", "revenue_2"
- Heuristic criteria: unique ratio > 0.9, avg string length < 30
- Return False for transpose if height > width * 10

## Dependencies

- polars (already in project)

## Effort Estimate

- Size: XS
- Hours: 0.5
- Parallel: true

## Definition of Done

- [ ] Code implemented per PRD specification
- [ ] `transpose_dataframe()` handles edge cases
- [ ] Can be imported: `from regression_analyzer.loader import transpose_dataframe`
