---
name: Create analyzer Pydantic models and prompt templates
status: open
created: 2026-01-20T19:26:14Z
updated: 2026-01-20T19:27:37Z
github: https://github.com/elysenko/regression-analyzer/issues/6
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Create analyzer Pydantic models and prompt templates

## Description

Create the Pydantic response models and prompt templates for the LLM analyzer module. This includes all structured output models (BusinessContext, ColumnAnalysis, HeaderAnalysis, TransposeDecision) and the prompt templates for context identification, column relevance, and header analysis.

## Acceptance Criteria

- [ ] Create `src/regression_analyzer/analyzer/__init__.py` with exports
- [ ] Create `src/regression_analyzer/analyzer/models.py` with all Pydantic models
- [ ] Create `src/regression_analyzer/analyzer/prompts.py` with prompt templates
- [ ] Implement `format_table_as_markdown()` utility function
- [ ] All models have proper Field descriptions and validation
- [ ] Models can be imported: `from regression_analyzer.analyzer.models import BusinessContext`

## Technical Details

### Files to Create
- `src/regression_analyzer/analyzer/__init__.py`
- `src/regression_analyzer/analyzer/models.py`
- `src/regression_analyzer/analyzer/prompts.py`

### Pydantic Models
- `BusinessContext`: company_type, industry, likely_focus_areas, confidence
- `ColumnRelevance`: column_name, semantic_type, relevance, is_target_candidate, is_feature_candidate
- `ColumnAnalysis`: columns list, recommended_target, recommended_features
- `HeaderAnalysis`: first_row_looks_like_headers, first_column_looks_like_headers, examples, reasoning
- `TransposeDecision`: should_transpose, confidence, reasoning

### Prompt Templates
- `CONTEXT_IDENTIFICATION_PROMPT`: For identifying business context
- `COLUMN_RELEVANCE_PROMPT`: For analyzing column relevance
- `HEADER_ANALYSIS_PROMPT`: For transpose detection

## Dependencies

- pydantic>=2.0.0 (already in project)

## Effort Estimate

- Size: S
- Hours: 0.5
- Parallel: true

## Definition of Done

- [ ] All model files created per PRD specification
- [ ] Pydantic validation works correctly
- [ ] Prompt templates format correctly with test data
- [ ] Module exports work: `from regression_analyzer.analyzer import *`
